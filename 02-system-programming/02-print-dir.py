#!/usr/bin/env python
# Recursively print contents of directory
# Usage print-dir.py <directory>

import glob
import os
import sys

def list_files(directory, depth=0):
  for item in os.listdir(directory):
    try:
      filepath = os.path.join(directory, item)
      if os.path.isfile(filepath):
        print "-"*(depth*4) + item
      elif os.path.isdir(filepath):
        print "-"*(depth*4) + item
        list_files(filepath, depth+1)
      else:
        print "-"*(depth*4) + item + " (?)"
    except OSError:
      print "OS Error"

list_files(sys.argv[1])
